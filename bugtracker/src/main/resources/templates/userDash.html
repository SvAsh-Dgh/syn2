<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <!-- Import local Bootstrap CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <title>User Dashboard</title>
</head>
<body>
    <div class="container">
        <h1 class="text-center mt-5">User Dashboard</h1>

        <!-- Display logged-in username -->
        <p th:text="${session.username != null ? 'Welcome, ' + session.username : 'Welcome, Guest'}">Welcome, Username!</p>


        <!-- User's assigned projects -->
        <h2>Your Assigned Projects</h2>
        <ul>
            <!-- Loop over projects -->
            <li th:each="project : ${assignedProjects}">
                <a th:href="@{/project/{id}(id=${project.projectId})}" th:text="${project.projectName}">Project Name</a>
            </li>
        </ul>

        <!-- User's reported bugs -->
        <h2>Your Reported Bugs</h2>
        <ul>
            <!-- Loop over bugs -->
            <li th:each="bug : ${reportedBugs}">
                <a th:href="@{/bug/{id}(id=${bug.bugId})}" th:text="${bug.title}">Bug Title</a>
            </li>
        </ul>

        <!-- User's assigned bugs -->
        <h2>Bugs Assigned To You</h2>
        <ul>
            <!-- Loop over bug assignments -->
            <li th:each="assignment : ${bugAssignments}">
                <a th:href="@{/bug/{id}(id=${assignment.bug.bugId})}" th:text="${assignment.bug.title}">Bug Title</a>
            </li>
        </ul>

        <!-- Logout -->
        <a href="/logout" class="btn btn-danger mt-4">Logout</a>
    </div>
    
    <!-- Import local Bootstrap JS -->
    <script src="/js/bootstrap.min.js"></script>
</body>
</html>
